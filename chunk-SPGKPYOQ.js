import{a as V}from"./chunk-RDOTIU5E.js";import{a as j,b as N}from"./chunk-S6SQHG3H.js";import{a as R}from"./chunk-E2KFHGHR.js";import"./chunk-RAI7CN5A.js";import{$a as T,Aa as x,C as d,D as p,K as A,L as o,La as O,M as s,Na as E,Oa as k,Pa as M,Ra as L,T as u,Y as l,Ya as F,a as S,b as I,cb as U,da as n,ea as r,fa as g,ga as P,ha as w,ia as _,la as v,ma as b,ra as m,sa as f,ta as h,y,ya as D}from"./chunk-GJLT4NFV.js";var $=t=>["/profile",t],z=t=>({opacity:t});function q(t,i){t&1&&g(0,"app-spinner",4),t&2&&l("overlay",!0)}function G(t,i){t&1&&(n(0,"div",23)(1,"div",24)(2,"span",25),m(3,"Loading..."),r()()())}function H(t,i){if(t&1){let e=_();n(0,"div",17)(1,"div",18),u(2,G,4,0,"div",19),n(3,"img",20),v("error",function(c){d(e);let C=b(2);return p(C.imageUtils.handleImageError(c))})("load",function(){let c=d(e).$implicit;return p(c.loading=!1)}),r(),n(4,"div",21)(5,"small",22),m(6),r()()()()}if(t&2){let e=i.$implicit;o(2),l("ngIf",e==null?null:e.loading),o(),l("src",e.thumbnailUrl,A)("alt",e.title)("ngStyle",x(5,z,e.loading?"0":"1")),o(3),f(e.title)}}function J(t,i){if(t&1){let e=_();P(0),n(1,"div",5)(2,"div",6)(3,"h5",7),m(4),r(),n(5,"button",8),v("click",function(){d(e);let c=b();return p(c.goBack())}),g(6,"i",9),m(7,"Back "),r()(),n(8,"div",10)(9,"div",11)(10,"h4",12),m(11),r(),n(12,"div",13),g(13,"i",14),n(14,"span"),m(15),r()()(),n(16,"div",15),u(17,H,7,7,"div",16),r()()(),w()}if(t&2){let e=b();o(4),h("Album Details #",e.album.id,""),o(7),f(e.album.title),o(),l("routerLink",x(5,$,e.album.userId)),o(3),h("User ID: ",e.album.userId,""),o(2),l("ngForOf",e.photos)}}var B=class t{constructor(i,e,a,c,C){this.route=i;this.albumsService=e;this.photosService=a;this.location=c;this.imageUtils=C}album=null;loading=!1;photos=[];ngOnInit(){this.route.params.subscribe(i=>{let e=+i.id;this.loadAlbum(e),this.loadAlbumPhotos(e)})}loadAlbum(i){this.loading=!0,this.albumsService.getAlbum(i).subscribe({next:e=>{this.album=e,this.loading=!1},error:e=>{console.error("Error loading album:",e),this.loading=!1}})}loadAlbumPhotos(i){this.photosService.getPhotos({albumId:i}).subscribe({next:e=>{this.photos=(e.body||[]).map(a=>I(S({},a),{loading:!0}))},error:e=>{console.error("Error loading photos:",e)}})}goBack(){this.location.back()}static \u0275fac=function(e){return new(e||t)(s(F),s(V),s(j),s(O),s(N))};static \u0275cmp=y({type:t,selectors:[["app-album-detail"]],standalone:!0,features:[D],decls:4,vars:2,consts:[[1,"common-container"],[1,"content-wrapper"],["message","Loading data...",3,"overlay",4,"ngIf"],[4,"ngIf"],["message","Loading data...",3,"overlay"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-arrow-left","me-2"],[1,"card-body"],[1,"mb-4"],[1,"card-title"],[1,"d-flex","align-items-center","text-muted","cursor-pointer",3,"routerLink"],[1,"bi","bi-person-fill","me-2"],[1,"row","g-4"],["class","col-md-6 col-lg-3 col-sm-6",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-3","col-sm-6"],[1,"photo-card","position-relative"],["class","position-absolute top-50 start-50 translate-middle",4,"ngIf"],[1,"img-fluid","rounded",3,"error","load","src","alt","ngStyle"],[1,"photo-title","mt-2"],[1,"text-muted","text-truncate","d-block"],[1,"position-absolute","top-50","start-50","translate-middle"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1),u(2,q,1,1,"app-spinner",2)(3,J,18,7,"ng-container",3),r()()),e&2&&(o(2),l("ngIf",a.loading),o(),l("ngIf",!a.loading&&a.album))},dependencies:[L,E,k,M,R,U,T],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 0 15px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa}.card-body[_ngcontent-%COMP%]{padding:2rem}.photo-card[_ngcontent-%COMP%]{transition:transform .2s;cursor:pointer}.photo-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.photo-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover}.photo-title[_ngcontent-%COMP%]{max-width:100%}"]})};export{B as AlbumDetailComponent};
